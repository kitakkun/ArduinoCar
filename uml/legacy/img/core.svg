<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="921px" preserveAspectRatio="none" style="width:1031px;height:921px;background:#FFFFFF;" version="1.1" viewBox="0 0 1031 921" width="1031px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="122" x="447.75" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="452.75" y="24.9659">コア機能の設計図</text><!--MD5=[759fea0b78e06e557efcbea16a583808]
class CarBuilder--><g id="elem_CarBuilder"><rect codeLine="5" fill="#F1F1F1" height="181.4754" id="CarBuilder" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="9" y="47.0679"/><ellipse cx="86.75" cy="63.0679" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M82.8594,69.0679 L85.2656,69.0679 L85.7656,66.0523 L88.1875,66.0523 L88.7031,69.0679 L91.125,69.0679 L88.7344,56.0679 L85.2656,56.0679 L82.8594,69.0679 Z M86.0781,64.0679 L86.2969,62.5523 C86.5156,61.1148 86.75,59.521 86.9219,58.0054 L87,58.0054 C87.2188,59.521 87.4063,61.1148 87.6406,62.5523 L87.8594,64.0679 L86.0781,64.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="67" x="107.25" y="68.4999">CarBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="10" x2="239" y1="79.0679" y2="79.0679"/><polygon fill="none" points="20,89.1019,24,93.1019,20,97.1019,16,93.1019" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="29" y="98.0339">left_wheel_: Wheel*</text><polygon fill="none" points="20,108.1698,24,112.1698,20,116.1698,16,112.1698" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29" y="117.1018">right_wheel_: Wheel*</text><line style="stroke:#181818;stroke-width:0.5;" x1="10" x2="239" y1="125.2038" y2="125.2038"/><ellipse cx="20" cy="140.2377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="29" y="144.1697">SetLeftWheel(wheel: Wheel*)</text><ellipse cx="20" cy="159.3056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="29" y="163.2376">SetRightWheel(wheel: Wheel*)</text><ellipse cx="20" cy="178.3735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="29" y="182.3055">GetLeftWheel(): Wheel*</text><ellipse cx="20" cy="197.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="29" y="201.3734">GetRightWheel(): Wheel*</text><ellipse cx="20" cy="216.5094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="29" y="220.4414">Build(): Car*</text></g><!--MD5=[3f0ef310aaa84a542276992c5216544d]
class Car--><g id="elem_Car"><rect codeLine="15" fill="#F1F1F1" height="162.4075" id="Car" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="27.5" y="297.5679"/><ellipse cx="109.25" cy="313.5679" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M105.3594,319.5679 L107.7656,319.5679 L108.2656,316.5523 L110.6875,316.5523 L111.2031,319.5679 L113.625,319.5679 L111.2344,306.5679 L107.7656,306.5679 L105.3594,319.5679 Z M108.5781,314.5679 L108.7969,313.0523 C109.0156,311.6148 109.25,310.021 109.4219,308.5054 L109.5,308.5054 C109.7188,310.021 109.9063,311.6148 110.1406,313.0523 L110.3594,314.5679 L108.5781,314.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="22" x="129.75" y="318.9999">Car</text><line style="stroke:#181818;stroke-width:0.5;" x1="28.5" x2="220.5" y1="329.5679" y2="329.5679"/><polygon fill="none" points="38.5,339.6019,42.5,343.6019,38.5,347.6019,34.5,343.6019" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="47.5" y="348.5339">left_wheel_: Wheel*</text><polygon fill="none" points="38.5,358.6698,42.5,362.6698,38.5,366.6698,34.5,362.6698" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="47.5" y="367.6018">right_wheel_: Wheel*</text><line style="stroke:#181818;stroke-width:0.5;" x1="28.5" x2="220.5" y1="375.7038" y2="375.7038"/><ellipse cx="38.5" cy="390.7377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="47.5" y="394.6697">Car(builder: CarBuilder*)</text><ellipse cx="38.5" cy="409.8056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="47.5" y="413.7376">UpdateSensors()</text><ellipse cx="38.5" cy="428.8735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="47.5" y="432.8055">Think()</text><ellipse cx="38.5" cy="447.9415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="47.5" y="451.8734">Act()</text></g><!--MD5=[63ed6a0a2dfd613875880437a5e2b06e]
class Wheel--><g id="elem_Wheel"><rect codeLine="24" fill="#F1F1F1" height="238.6792" id="Wheel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="309" x="45" y="529.0679"/><ellipse cx="174.25" cy="545.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M174.4844,551.5679 C175.6406,551.5679 176.7344,551.0835 177.5625,550.0679 L176.125,548.5523 C175.7344,549.0992 175.2813,549.396 174.7188,549.396 C173.5313,549.396 172.5156,548.271 172.5156,545.0523 C172.5156,541.896 173.5781,540.7398 174.5938,540.7398 C175.2031,540.7398 175.5781,541.0367 176,541.5367 L177.4219,539.9742 C176.75,539.2242 175.7813,538.5679 174.5,538.5679 C172.0625,538.5679 169.9219,540.5523 169.9219,545.146 C169.9219,549.771 172.0625,551.5679 174.4844,551.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="194.75" y="550.4999">Wheel</text><line style="stroke:#181818;stroke-width:0.5;" x1="46" x2="353" y1="561.0679" y2="561.0679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="53" y="573.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="65" y="580.0339">plus_pin_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="53" y="592.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="65" y="599.1018">minus_pin_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="53" y="611.2377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="65" y="618.1697">pwm_pin_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="53" y="630.3056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="65" y="637.2376">speed_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="53" y="649.3735"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="65" y="656.3055">direction_: MoveDirection</text><line style="stroke:#181818;stroke-width:0.5;" x1="46" x2="353" y1="664.4075" y2="664.4075"/><ellipse cx="56" cy="679.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="65" y="683.3734">UpdateSpeed(speed: int)</text><ellipse cx="56" cy="698.5094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="65" y="702.4414">UpdateDeltaSpeed(speed: int)</text><ellipse cx="56" cy="717.5773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283" x="65" y="721.5093">UpdateDirection(direction: MoveDirection)</text><ellipse cx="56" cy="736.6452" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="65" y="740.5772">Speed(): int</text><ellipse cx="56" cy="755.7131" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="65" y="759.6451">Direction(): MoveDirection</text></g><!--MD5=[3f8082dde0e5e68a14f7103da6669d66]
class MoveDirection--><g id="elem_MoveDirection"><rect codeLine="37" fill="#F1F1F1" height="86.1358" id="MoveDirection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="135" y="828.0679"/><ellipse cx="150" cy="844.0679" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M146.6563,850.5679 L153.125,850.5679 L153.125,848.4585 L149.1875,848.4585 L149.1875,844.6929 L152.3594,844.6929 L152.3594,842.5679 L149.1875,842.5679 L149.1875,839.6929 L153,839.6929 L153,837.5679 L146.6563,837.5679 L146.6563,850.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="164" y="849.4999">MoveDirection</text><line style="stroke:#181818;stroke-width:0.5;" x1="136" x2="263" y1="860.0679" y2="860.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="141" y="879.0339">forward</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="141" y="898.1018">backward</text><line style="stroke:#181818;stroke-width:0.5;" x1="136" x2="263" y1="906.2038" y2="906.2038"/></g><!--MD5=[97d46ae094d28e0d28828e4b8046fed1]
class Sensor--><g id="elem_Sensor"><rect codeLine="42" fill="#F1F1F1" height="143.3396" id="Sensor" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="327.5" y="307.0679"/><ellipse cx="365" cy="323.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M365.2344,329.5679 C366.3906,329.5679 367.4844,329.0835 368.3125,328.0679 L366.875,326.5523 C366.4844,327.0992 366.0313,327.396 365.4688,327.396 C364.2813,327.396 363.2656,326.271 363.2656,323.0523 C363.2656,319.896 364.3281,318.7398 365.3438,318.7398 C365.9531,318.7398 366.3281,319.0367 366.75,319.5367 L368.1719,317.9742 C367.5,317.2242 366.5313,316.5679 365.25,316.5679 C362.8125,316.5679 360.6719,318.5523 360.6719,323.146 C360.6719,327.771 362.8125,329.5679 365.2344,329.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="384" y="328.4999">Sensor</text><line style="stroke:#181818;stroke-width:0.5;" x1="328.5" x2="454.5" y1="339.0679" y2="339.0679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="335.5" y="351.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="347.5" y="358.0339">pin_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="335.5" y="370.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="347.5" y="377.1018">value_: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="328.5" x2="454.5" y1="385.2038" y2="385.2038"/><ellipse cx="338.5" cy="400.2377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="347.5" y="404.1697">Sensor(pin: int)</text><ellipse cx="338.5" cy="419.3056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="347.5" y="423.2376">Update()</text><ellipse cx="338.5" cy="438.3735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="347.5" y="442.3055">RawValue(): int</text></g><!--MD5=[d48983fff3e149f33b466b65e41ae850]
class PhotoReflector--><g id="elem_PhotoReflector"><rect codeLine="50" fill="#F1F1F1" height="105.2038" id="PhotoReflector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="375" y="85.0679"/><ellipse cx="446.25" cy="101.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M446.4844,107.5679 C447.6406,107.5679 448.7344,107.0835 449.5625,106.0679 L448.125,104.5523 C447.7344,105.0992 447.2813,105.396 446.7188,105.396 C445.5313,105.396 444.5156,104.271 444.5156,101.0523 C444.5156,97.896 445.5781,96.7398 446.5938,96.7398 C447.2031,96.7398 447.5781,97.0367 448,97.5367 L449.4219,95.9742 C448.75,95.2242 447.7813,94.5679 446.5,94.5679 C444.0625,94.5679 441.9219,96.5523 441.9219,101.146 C441.9219,105.771 444.0625,107.5679 446.4844,107.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="466.75" y="106.4999">PhotoReflector</text><line style="stroke:#181818;stroke-width:0.5;" x1="376" x2="623" y1="117.0679" y2="117.0679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="383" y="129.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="395" y="136.0339">theta_: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="376" x2="623" y1="144.1358" y2="144.1358"/><ellipse cx="386" cy="159.1698" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="395" y="163.1018">PhotoReflector(pin: int, theta: int)</text><ellipse cx="386" cy="178.2377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="395" y="182.1697">Value(): BinaryColor</text></g><!--MD5=[f3b5273c40911e4ac3c5f794601740e9]
class BinaryColor--><g id="elem_BinaryColor"><rect codeLine="56" fill="#F1F1F1" height="86.1358" id="BinaryColor" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="490.5" y="335.5679"/><ellipse cx="505.5" cy="351.5679" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M502.1563,358.0679 L508.625,358.0679 L508.625,355.9585 L504.6875,355.9585 L504.6875,352.1929 L507.8594,352.1929 L507.8594,350.0679 L504.6875,350.0679 L504.6875,347.1929 L508.5,347.1929 L508.5,345.0679 L502.1563,345.0679 L502.1563,358.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="519.5" y="356.9999">BinaryColor</text><line style="stroke:#181818;stroke-width:0.5;" x1="491.5" x2="599.5" y1="367.5679" y2="367.5679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="496.5" y="386.5339">black</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="496.5" y="405.6018">white</text><line style="stroke:#181818;stroke-width:0.5;" x1="491.5" x2="599.5" y1="413.7038" y2="413.7038"/></g><!--MD5=[916b842bddd32e7187123bcb721c868a]
class Brain--><g id="elem_Brain"><rect codeLine="61" fill="#F1F1F1" height="67.0679" id="Brain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="714" y="104.0679"/><ellipse cx="831.25" cy="120.0679" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M827.6094,126.5679 L834.375,126.5679 L834.375,124.5054 L832.2344,124.5054 L832.2344,115.6929 L834.375,115.6929 L834.375,113.5679 L827.6094,113.5679 L827.6094,115.6929 L829.7031,115.6929 L829.7031,124.5054 L827.6094,124.5054 L827.6094,126.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="34" x="851.75" y="125.4999">Brain</text><line style="stroke:#181818;stroke-width:0.5;" x1="715" x2="990" y1="136.0679" y2="136.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="715" x2="990" y1="144.0679" y2="144.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="720" y="163.0339">CalculateNextInstruction(): InstructionImpl*</text></g><!--MD5=[818ce9cd1eb68477d70117a0a20ac581]
class InstructionImpl--><g id="elem_Instruction"><rect codeLine="65" fill="#F1F1F1" height="181.4754" id="InstructionImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="344" x="680.5" y="288.0679"/><ellipse cx="811.25" cy="304.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M811.4844,310.5679 C812.6406,310.5679 813.7344,310.0835 814.5625,309.0679 L813.125,307.5523 C812.7344,308.0992 812.2813,308.396 811.7188,308.396 C810.5313,308.396 809.5156,307.271 809.5156,304.0523 C809.5156,300.896 810.5781,299.7398 811.5938,299.7398 C812.2031,299.7398 812.5781,300.0367 813,300.5367 L814.4219,298.9742 C813.75,298.2242 812.7813,297.5679 811.5,297.5679 C809.0625,297.5679 806.9219,299.5523 806.9219,304.146 C806.9219,308.771 809.0625,310.5679 811.4844,310.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="831.75" y="309.4999">InstructionImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="681.5" x2="1023.5" y1="320.0679" y2="320.0679"/><polygon fill="none" points="691.5,330.1019,695.5,334.1019,691.5,338.1019,687.5,334.1019" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="700.5" y="339.0339">left_wheel_: Wheel*</text><polygon fill="none" points="691.5,349.1698,695.5,353.1698,691.5,357.1698,687.5,353.1698" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="700.5" y="358.1018">right_wheel: Wheel*</text><polygon fill="none" points="691.5,368.2377,695.5,372.2377,691.5,376.2377,687.5,372.2377" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="700.5" y="377.1697">mode_: InstructionMode</text><line style="stroke:#181818;stroke-width:0.5;" x1="681.5" x2="1023.5" y1="385.2717" y2="385.2717"/><ellipse cx="691.5" cy="400.3056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="700.5" y="404.2376">runCoroutine(): int</text><ellipse cx="691.5" cy="419.3735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="700.5" y="423.3055">Setup(left_wheel: Wheel*, right_wheel: Wheel*)</text><ellipse cx="691.5" cy="438.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="700.5" y="442.3734">SetMode(mode: InstructionMode)</text><ellipse cx="691.5" cy="457.5094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="700.5" y="461.4414">Mode(): InstructionMode</text></g><!--MD5=[ba6d20ecfee78dd47f1f3bc52f06582e]
class InstructionMode--><g id="elem_InstructionMode"><rect codeLine="75" fill="#F1F1F1" height="86.1358" id="InstructionMode" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="780.5" y="605.5679"/><ellipse cx="795.5" cy="621.5679" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M792.1563,628.0679 L798.625,628.0679 L798.625,625.9585 L794.6875,625.9585 L794.6875,622.1929 L797.8594,622.1929 L797.8594,620.0679 L794.6875,620.0679 L794.6875,617.1929 L798.5,617.1929 L798.5,615.0679 L792.1563,615.0679 L792.1563,628.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="809.5" y="626.9999">InstructionMode</text><line style="stroke:#181818;stroke-width:0.5;" x1="781.5" x2="923.5" y1="637.5679" y2="637.5679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="786.5" y="656.5339">none</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="786.5" y="675.6018">interrupt</text><line style="stroke:#181818;stroke-width:0.5;" x1="781.5" x2="923.5" y1="683.7038" y2="683.7038"/></g><!--MD5=[de49ff43e445b910136ff9212b49d7e1]
link CarBuilder to Car--><g id="link_CarBuilder_Car"><path codeLine="81" d="M112.11,228.2379 C111.6,249.1279 111.63,271.2979 112.22,291.9979 " fill="none" id="CarBuilder-to-Car" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="112.38,297.2279,116.0945,288.1064,112.2225,292.2304,108.0985,288.3584,112.38,297.2279" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8fd281aba00953fd6da8213c7d9336b8]
link Car to CarBuilder--><g id="link_Car_CarBuilder"><path codeLine="86" d="M137.33,297.2279 C138.06,276.7179 138.19,254.4679 137.74,233.3079 " fill="none" id="Car-to-CarBuilder" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="137.62,228.2379,133.8267,237.327,137.7343,233.2366,141.8246,237.1442,137.62,228.2379" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[06b3a4d60eda5cfaa7209b524245dada]
link CarBuilder to Wheel--><g id="link_CarBuilder_Wheel"><path codeLine="82" d="M207.43,228.4179 C220.19,246.9379 231.45,267.1979 238.5,288.0679 C264.1,363.8679 254.55,453.2879 238.5,523.9879 " fill="none" id="CarBuilder-to-Wheel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="237.33,529.0479,243.258,521.1829,238.4585,524.1769,235.4645,519.3774,237.33,529.0479" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2ea1030a1cbd423ae6287d5d7d5e8969]
link Car to Wheel--><g id="link_Car_Wheel"><path codeLine="87" d="M146.9,459.6179 C152.56,479.8279 158.77,502.0179 164.87,523.8379 " fill="none" id="Car-to-Wheel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="166.26,528.7779,167.6948,519.0341,164.9166,523.9618,159.989,521.1835,166.26,528.7779" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bd981d8afbab0061f9dc9991021eacce]
link Wheel to MoveDirection--><g id="link_Wheel_MoveDirection"><path codeLine="88" d="M199.5,768.2079 C199.5,787.4379 199.5,806.3279 199.5,822.5179 " fill="none" id="Wheel-to-MoveDirection" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="199.5,827.8979,203.5,818.8979,199.5,822.8979,195.5,818.8979,199.5,827.8979" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a71d6bc938c0f94e3a90c134f72f194f]
link PhotoReflector to Sensor--><g id="link_PhotoReflector_Sensor"><path codeLine="89" d="M476.2,190.1379 C463.23,218.8279 446.73,255.3579 431.74,288.5179 " fill="none" id="PhotoReflector-to-Sensor" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="437.98,291.7079,423.36,307.0579,425.22,285.9479,437.98,291.7079" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1c41622dd479420fbbf222c5ffbc9dad]
link PhotoReflector to BinaryColor--><g id="link_PhotoReflector_BinaryColor"><path codeLine="90" d="M509.42,190.1379 C517.41,231.6379 528.55,289.4979 536.33,329.9179 " fill="none" id="PhotoReflector-to-BinaryColor" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="537.36,335.2579,539.5925,325.6654,536.4179,330.3475,531.7358,327.1728,537.36,335.2579" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[98159c23428a6d0d77e234590d55ed57]
link Brain to InstructionImpl--><g id="link_Brain_Instruction"><path codeLine="91" d="M852.5,171.2979 C852.5,199.9879 852.5,243.1579 852.5,282.5979 " fill="none" id="Brain-to-InstructionImpl" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="852.5,287.8879,856.5,278.8879,852.5,282.8879,848.5,278.8879,852.5,287.8879" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e23969c63ba9b1ec3bfae3ccd2eb591e]
link InstructionImpl to InstructionMode--><g id="link_Instruction_InstructionMode"><path codeLine="92" d="M852.5,469.1779 C852.5,512.9779 852.5,563.9179 852.5,600.1179 " fill="none" id="InstructionImpl-to-InstructionMode" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="852.5,605.3479,856.5,596.3479,852.5,600.3479,848.5,596.3479,852.5,605.3479" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[63abae31c4693c4670218cd713c2955c]
@startuml
'https://plantuml.com/class-diagram

title "コア機能の設計図"

abstract class CarBuilder {
+ SetLeftWheel(wheel: Wheel*)
+ SetRightWheel(wheel: Wheel*)
+ GetLeftWheel(): Wheel*
+ GetRightWheel(): Wheel*
+ Build(): Car*
# left_wheel_: Wheel*
# right_wheel_: Wheel*
}

abstract class Car {
# left_wheel_: Wheel*
# right_wheel_: Wheel*
+ Car(builder: CarBuilder*)
+ UpdateSensors()
+ Think()
+ Act()
}

class Wheel {
- plus_pin_: int
- minus_pin_: int
- pwm_pin_: int
- speed_: int
- direction_: MoveDirection
+ UpdateSpeed(speed: int)
+ UpdateDeltaSpeed(speed: int)
+ UpdateDirection(direction: MoveDirection)
+ Speed(): int
+ Direction(): MoveDirection
}

enum MoveDirection {
    forward
    backward
}

class Sensor {
- pin_: int
- value_: int
+ Sensor(pin: int)
+ Update()
+ RawValue(): int
}

class PhotoReflector {
- theta_: int
+ PhotoReflector(pin: int, theta: int)
+ Value(): BinaryColor
}

enum BinaryColor {
    black
    white
}

interface Brain {
    CalculateNextInstruction(): InstructionImpl*
}

class InstructionImpl {
+ runCoroutine(): int
+ Setup(left_wheel: Wheel*, right_wheel: Wheel*)
+ SetMode(mode: InstructionMode)
+ Mode(): InstructionMode
# left_wheel_: Wheel*
# right_wheel: Wheel*
# mode_: InstructionMode
}

enum InstructionMode {
    none
    interrupt
}


CarBuilder ..> Car
CarBuilder ..> Wheel
'CarBuilder ..> Car
'CarBuilder ..> Wheel
'Car ..> CarBuilder
Car ..> CarBuilder
Car ..> Wheel
Wheel ..> MoveDirection
PhotoReflector - -|> Sensor
PhotoReflector ..> BinaryColor
Brain ..> InstructionImpl
InstructionImpl ..> InstructionMode
@enduml

@startuml

title "コア機能の設計図"

abstract class CarBuilder {
+ SetLeftWheel(wheel: Wheel*)
+ SetRightWheel(wheel: Wheel*)
+ GetLeftWheel(): Wheel*
+ GetRightWheel(): Wheel*
+ Build(): Car*
# left_wheel_: Wheel*
# right_wheel_: Wheel*
}

abstract class Car {
# left_wheel_: Wheel*
# right_wheel_: Wheel*
+ Car(builder: CarBuilder*)
+ UpdateSensors()
+ Think()
+ Act()
}

class Wheel {
- plus_pin_: int
- minus_pin_: int
- pwm_pin_: int
- speed_: int
- direction_: MoveDirection
+ UpdateSpeed(speed: int)
+ UpdateDeltaSpeed(speed: int)
+ UpdateDirection(direction: MoveDirection)
+ Speed(): int
+ Direction(): MoveDirection
}

enum MoveDirection {
    forward
    backward
}

class Sensor {
- pin_: int
- value_: int
+ Sensor(pin: int)
+ Update()
+ RawValue(): int
}

class PhotoReflector {
- theta_: int
+ PhotoReflector(pin: int, theta: int)
+ Value(): BinaryColor
}

enum BinaryColor {
    black
    white
}

interface Brain {
    CalculateNextInstruction(): InstructionImpl*
}

class InstructionImpl {
+ runCoroutine(): int
+ Setup(left_wheel: Wheel*, right_wheel: Wheel*)
+ SetMode(mode: InstructionMode)
+ Mode(): InstructionMode
# left_wheel_: Wheel*
# right_wheel: Wheel*
# mode_: InstructionMode
}

enum InstructionMode {
    none
    interrupt
}


CarBuilder ..> Car
CarBuilder ..> Wheel
Car ..> CarBuilder
Car ..> Wheel
Wheel ..> MoveDirection
PhotoReflector - -|> Sensor
PhotoReflector ..> BinaryColor
Brain ..> InstructionImpl
InstructionImpl ..> InstructionMode
@enduml

PlantUML version 1.2022.12(Mon Oct 24 03:12:26 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>