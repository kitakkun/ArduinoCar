<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1385px" preserveAspectRatio="none" style="width:1438px;height:1385px;background:#FFFFFF;" version="1.1" viewBox="0 0 1438 1385" width="1438px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="150" x="637.25" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="642.25" y="24.9659">カスタム機能の設計図</text><!--MD5=[3e29d39b8eb9d62311a9d529a92fa1b1]
class LineTraceCarBuilder--><g id="elem_LineTraceCarBuilder"><rect codeLine="5" fill="#F1F1F1" height="448.4263" id="LineTraceCarBuilder" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="357" x="604.5" y="47.0679"/><ellipse cx="710.25" cy="63.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M710.4844,69.5679 C711.6406,69.5679 712.7344,69.0835 713.5625,68.0679 L712.125,66.5523 C711.7344,67.0992 711.2813,67.396 710.7188,67.396 C709.5313,67.396 708.5156,66.271 708.5156,63.0523 C708.5156,59.896 709.5781,58.7398 710.5938,58.7398 C711.2031,58.7398 711.5781,59.0367 712,59.5367 L713.4219,57.9742 C712.75,57.2242 711.7813,56.5679 710.5,56.5679 C708.0625,56.5679 705.9219,58.5523 705.9219,63.146 C705.9219,67.771 708.0625,69.5679 710.4844,69.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="730.75" y="68.4999">LineTraceCarBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="605.5" x2="960.5" y1="79.0679" y2="79.0679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="91.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="624.5" y="98.0339">brain_: LineTraceBrain*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="110.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="624.5" y="117.1018">front_mid_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="129.2377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="624.5" y="136.1697">front_left_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="148.3056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="624.5" y="155.2376">front_right_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="167.3735"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="624.5" y="174.3055">back_mid_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="186.4415"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="624.5" y="193.3734">back_left_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="612.5" y="205.5094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="624.5" y="212.4414">back_right_reflector_: PhotoReflector*</text><line style="stroke:#181818;stroke-width:0.5;" x1="605.5" x2="960.5" y1="220.5433" y2="220.5433"/><ellipse cx="615.5" cy="235.5773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="624.5" y="239.5093">SetBrain(brain: LineTraceBrain*)</text><ellipse cx="615.5" cy="254.6452" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="624.5" y="258.5772">SetFrontMidReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="273.7131" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320" x="624.5" y="277.6451">SetFrontLeftReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="292.781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331" x="624.5" y="296.713">SetFrontRightReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="311.849" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="624.5" y="315.7809">SetBackMidReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="330.9169" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="624.5" y="334.8489">SetBackLeftReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="349.9848" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="327" x="624.5" y="353.9168">SetBackRightReflector(reflector: PhotoReflector*)</text><ellipse cx="615.5" cy="369.0527" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="624.5" y="372.9847">GetBrain(): LineTraceBrain*</text><ellipse cx="615.5" cy="388.1206" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="624.5" y="392.0526">GetFrontMidReflector(): PhotoReflector*</text><ellipse cx="615.5" cy="407.1885" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="624.5" y="411.1205">GetFrontLeftReflector(): PhotoReflector*</text><ellipse cx="615.5" cy="426.2565" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="624.5" y="430.1884">GetFrontRightReflector(): PhotoReflector*</text><ellipse cx="615.5" cy="445.3244" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="624.5" y="449.2564">GetBackMidReflector(): PhotoReflector*</text><ellipse cx="615.5" cy="464.3923" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261" x="624.5" y="468.3243">GetBackLeftReflector(): PhotoReflector*</text><ellipse cx="615.5" cy="483.4602" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272" x="624.5" y="487.3922">GetBackRightReflector(): PhotoReflector*</text></g><!--MD5=[607d18872754f6fdbf4f578bea8cf2f6]
class LineTraceCar--><g id="elem_LineTraceCar"><rect codeLine="29" fill="#F1F1F1" height="238.6792" id="LineTraceCar" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="245" y="151.5679"/><ellipse cx="358.75" cy="167.5679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M358.9844,174.0679 C360.1406,174.0679 361.2344,173.5835 362.0625,172.5679 L360.625,171.0523 C360.2344,171.5992 359.7813,171.896 359.2188,171.896 C358.0313,171.896 357.0156,170.771 357.0156,167.5523 C357.0156,164.396 358.0781,163.2398 359.0938,163.2398 C359.7031,163.2398 360.0781,163.5367 360.5,164.0367 L361.9219,162.4742 C361.25,161.7242 360.2813,161.0679 359,161.0679 C356.5625,161.0679 354.4219,163.0523 354.4219,167.646 C354.4219,172.271 356.5625,174.0679 358.9844,174.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="379.25" y="172.9999">LineTraceCar</text><line style="stroke:#181818;stroke-width:0.5;" x1="246" x2="568" y1="183.5679" y2="183.5679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="195.6019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="265" y="202.5339">brain_: LineTraceBrain*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="214.6698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="265" y="221.6018">front_mid_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="233.7377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="265" y="240.6697">front_left_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="252.8056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="265" y="259.7376">front_right_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="271.8735"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="265" y="278.8055">back_mid_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="290.9415"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="265" y="297.8734">back_left_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="310.0094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="265" y="316.9414">back_right_reflector_: PhotoReflector*</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="329.0773"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="265" y="336.0093">instruction_: InstructionImpl*</text><line style="stroke:#181818;stroke-width:0.5;" x1="246" x2="568" y1="344.1113" y2="344.1113"/><ellipse cx="256" cy="359.1452" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298" x="265" y="363.0772">LineTraceCar(builder: LineTraceCarBuilder*)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="253" y="375.2131"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="265" y="382.1451">CollectCarState(): LineTraceCarState</text></g><!--MD5=[ef435a28ef8337ada5f3376e179b10dd]
class LineTraceCarState--><g id="elem_LineTraceCarState"><rect codeLine="42" fill="#F1F1F1" height="581.9017" id="LineTraceCarState" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292" x="7" y="555.0679"/><ellipse cx="87.75" cy="571.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M87.9844,577.5679 C89.1406,577.5679 90.2344,577.0835 91.0625,576.0679 L89.625,574.5523 C89.2344,575.0992 88.7813,575.396 88.2188,575.396 C87.0313,575.396 86.0156,574.271 86.0156,571.0523 C86.0156,567.896 87.0781,566.7398 88.0938,566.7398 C88.7031,566.7398 89.0781,567.0367 89.5,567.5367 L90.9219,565.9742 C90.25,565.2242 89.2813,564.5679 88,564.5679 C85.5625,564.5679 83.4219,566.5523 83.4219,571.146 C83.4219,575.771 85.5625,577.5679 87.9844,577.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="108.25" y="576.4999">LineTraceCarState</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="298" y1="587.0679" y2="587.0679"/><ellipse cx="18" cy="602.1019" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="27" y="606.0339">left_wheel_speed_: int</text><ellipse cx="18" cy="621.1698" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="27" y="625.1018">right_wheel_speed_: int</text><ellipse cx="18" cy="640.2377" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="27" y="644.1697">left_wheel_direction_: MoveDirection</text><ellipse cx="18" cy="659.3056" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="27" y="663.2376">right_wheel_direction_: MoveDirection</text><ellipse cx="18" cy="678.3735" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="27" y="682.3055">mid_reflector_color_: BinaryColor</text><ellipse cx="18" cy="697.4415" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="27" y="701.3734">left_reflector_color_: BinaryColor</text><ellipse cx="18" cy="716.5094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="27" y="720.4414">right_reflector_color: BinaryColor</text><ellipse cx="18" cy="735.5773" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="27" y="739.5093">back_mid_reflector_color_: BinaryColor</text><ellipse cx="18" cy="754.6452" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="27" y="758.5772">back_left_reflector_color_: BinaryColor</text><ellipse cx="18" cy="773.7131" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="27" y="777.6451">back_right_reflector_color_: BinaryColor</text><ellipse cx="18" cy="792.781" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="27" y="796.713">mid_reflector_raw_: int</text><ellipse cx="18" cy="811.849" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="27" y="815.7809">left_reflector_raw_: int</text><ellipse cx="18" cy="830.9169" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="27" y="834.8489">right_reflector_raw_: int</text><ellipse cx="18" cy="849.9848" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="27" y="853.9168">back_mid_reflector_raw_: int</text><ellipse cx="18" cy="869.0527" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="27" y="872.9847">back_left_reflector_raw_: int</text><ellipse cx="18" cy="888.1206" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="27" y="892.0526">back_right_reflector_raw_: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="298" y1="900.1546" y2="900.1546"/><ellipse cx="18" cy="915.1885" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="27" y="919.1205">IsAnyBlack(): bool</text><ellipse cx="18" cy="934.2565" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="27" y="938.1884">IsAnyWhite(): bool</text><ellipse cx="18" cy="953.3244" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="27" y="957.2564">IsAllBlack(): bool</text><ellipse cx="18" cy="972.3923" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="27" y="976.3243">IsAllWhite(): bool</text><ellipse cx="18" cy="991.4602" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="27" y="995.3922">IsAnyFrontBlack(): bool</text><ellipse cx="18" cy="1010.5281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="27" y="1014.4601">IsAnyBackBlack(): bool</text><ellipse cx="18" cy="1029.596" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="27" y="1033.528">IsAnyFrontWhite(): bool</text><ellipse cx="18" cy="1048.664" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="27" y="1052.5959">IsAnyBackWhite(): bool</text><ellipse cx="18" cy="1067.7319" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="27" y="1071.6639">IsAllFrontBlack(): bool</text><ellipse cx="18" cy="1086.7998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="27" y="1090.7318">IsAllBackBlack(): bool</text><ellipse cx="18" cy="1105.8677" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="27" y="1109.7997">IsAllFrontWhite(): bool</text><ellipse cx="18" cy="1124.9356" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="27" y="1128.8676">IsAllBackWhite(): bool</text></g><!--MD5=[89b523928be21aa7f47d4195457b60cb]
class LineTraceBrain--><g id="elem_LineTraceBrain"><rect codeLine="73" fill="#F1F1F1" height="219.6113" id="LineTraceBrain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="354" x="870" y="736.0679"/><ellipse cx="995.75" cy="752.0679" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M991.8594,758.0679 L994.2656,758.0679 L994.7656,755.0523 L997.1875,755.0523 L997.7031,758.0679 L1000.125,758.0679 L997.7344,745.0679 L994.2656,745.0679 L991.8594,758.0679 Z M995.0781,753.0679 L995.2969,751.5523 C995.5156,750.1148 995.75,748.521 995.9219,747.0054 L996,747.0054 C996.2188,748.521 996.4063,750.1148 996.6406,751.5523 L996.8594,753.0679 L995.0781,753.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="1016.25" y="757.4999">LineTraceBrain</text><line style="stroke:#181818;stroke-width:0.5;" x1="871" x2="1223" y1="768.0679" y2="768.0679"/><polygon fill="none" points="881,778.1019,885,782.1019,881,786.1019,877,782.1019" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="890" y="787.0339">current_car_state_: LineTraceCarState</text><polygon fill="none" points="881,797.1698,885,801.1698,881,805.1698,877,801.1698" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="890" y="806.1018">activity_state_: LineTraceActivityState</text><line style="stroke:#181818;stroke-width:0.5;" x1="871" x2="1223" y1="814.2038" y2="814.2038"/><ellipse cx="881" cy="829.2377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="890" y="833.1697">SetCurrentCarState(car_state: LineTraceCarState)</text><polygon fill="#FFFF44" points="881,843.3056,885,847.3056,881,851.3056,877,847.3056" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="890" y="852.2376">Ready(): InstructionImpl*</text><polygon fill="#FFFF44" points="881,862.3735,885,866.3735,881,870.3735,877,866.3735" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="890" y="871.3055">Search(): InstructionImpl*</text><polygon fill="#FFFF44" points="881,881.4415,885,885.4415,881,889.4415,877,885.4415" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="890" y="890.3734">Trace(): InstructionImpl*</text><polygon fill="#FFFF44" points="881,900.5094,885,904.5094,881,908.5094,877,904.5094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="890" y="909.4414">ReadyBack(): InstructionImpl*</text><polygon fill="#FFFF44" points="881,919.5773,885,923.5773,881,927.5773,877,923.5773" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="890" y="928.5093">SearchBack(): InstructionImpl*</text><polygon fill="#FFFF44" points="881,938.6452,885,942.6452,881,946.6452,877,942.6452" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="890" y="947.5772">TraceBack(): InstructionImpl*</text></g><!--MD5=[fdaf59c7aa9a6cc4d5bf07f2c34c4c6f]
class LineTraceActivityState--><g id="elem_LineTraceActivityState"><rect codeLine="85" fill="#F1F1F1" height="181.4754" id="LineTraceActivityState" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="877.5" y="1197.0679"/><ellipse cx="892.5" cy="1213.0679" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M889.1563,1219.5679 L895.625,1219.5679 L895.625,1217.4585 L891.6875,1217.4585 L891.6875,1213.6929 L894.8594,1213.6929 L894.8594,1211.5679 L891.6875,1211.5679 L891.6875,1208.6929 L895.5,1208.6929 L895.5,1206.5679 L889.1563,1206.5679 L889.1563,1219.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="906.5" y="1218.4999">LineTraceActivityState</text><line style="stroke:#181818;stroke-width:0.5;" x1="878.5" x2="1055.5" y1="1229.0679" y2="1229.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="883.5" y="1248.0339">ready</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="883.5" y="1267.1018">searching</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="883.5" y="1286.1697">tracing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="883.5" y="1305.2376">readyBack</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="883.5" y="1324.3055">searchingBack</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="883.5" y="1343.3734">tracingBack</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="883.5" y="1362.4414">finished</text><line style="stroke:#181818;stroke-width:0.5;" x1="878.5" x2="1055.5" y1="1370.5433" y2="1370.5433"/></g><!--MD5=[1d387461e2b25fe4aa4fc22817eea406]
class LineTraceGoAndBackBrain--><g id="elem_LineTraceGoAndBackBrain"><rect codeLine="95" fill="#F1F1F1" height="105.2038" id="LineTraceGoAndBackBrain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="435" x="996.5" y="218.5679"/><ellipse cx="1121.25" cy="234.5679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1121.4844,241.0679 C1122.6406,241.0679 1123.7344,240.5835 1124.5625,239.5679 L1123.125,238.0523 C1122.7344,238.5992 1122.2813,238.896 1121.7188,238.896 C1120.5313,238.896 1119.5156,237.771 1119.5156,234.5523 C1119.5156,231.396 1120.5781,230.2398 1121.5938,230.2398 C1122.2031,230.2398 1122.5781,230.5367 1123,231.0367 L1124.4219,229.4742 C1123.75,228.7242 1122.7813,228.0679 1121.5,228.0679 C1119.0625,228.0679 1116.9219,230.0523 1116.9219,234.646 C1116.9219,239.271 1119.0625,241.0679 1121.4844,241.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1141.75" y="239.9999">LineTraceGoAndBackBrain</text><line style="stroke:#181818;stroke-width:0.5;" x1="997.5" x2="1430.5" y1="250.5679" y2="250.5679"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1004.5" y="262.6019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1016.5" y="269.5339">base_speed_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1004.5" y="281.6698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1016.5" y="288.6018">forward_torque_force_: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="997.5" x2="1430.5" y1="296.7038" y2="296.7038"/><ellipse cx="1007.5" cy="311.7377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="409" x="1016.5" y="315.6697">LineTraceGoAndBackBrain(base_speed: int, torque_force: int)</text></g><!--MD5=[3f0ef310aaa84a542276992c5216544d]
class Car--><g id="elem_Car"><rect fill="#F1F1F1" height="48" id="Car" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="334.5" y="822.0679"/><ellipse cx="349.5" cy="838.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M349.7344,844.5679 C350.8906,844.5679 351.9844,844.0835 352.8125,843.0679 L351.375,841.5523 C350.9844,842.0992 350.5313,842.396 349.9688,842.396 C348.7813,842.396 347.7656,841.271 347.7656,838.0523 C347.7656,834.896 348.8281,833.7398 349.8438,833.7398 C350.4531,833.7398 350.8281,834.0367 351.25,834.5367 L352.6719,832.9742 C352,832.2242 351.0313,831.5679 349.75,831.5679 C347.3125,831.5679 345.1719,833.5523 345.1719,838.146 C345.1719,842.771 347.3125,844.5679 349.7344,844.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="363.5" y="843.4999">Car</text><line style="stroke:#181818;stroke-width:0.5;" x1="335.5" x2="388.5" y1="854.0679" y2="854.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="335.5" x2="388.5" y1="862.0679" y2="862.0679"/></g><!--MD5=[d48983fff3e149f33b466b65e41ae850]
class PhotoReflector--><g id="elem_PhotoReflector"><rect fill="#F1F1F1" height="48" id="PhotoReflector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="566" y="822.0679"/><ellipse cx="581" cy="838.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M581.2344,844.5679 C582.3906,844.5679 583.4844,844.0835 584.3125,843.0679 L582.875,841.5523 C582.4844,842.0992 582.0313,842.396 581.4688,842.396 C580.2813,842.396 579.2656,841.271 579.2656,838.0523 C579.2656,834.896 580.3281,833.7398 581.3438,833.7398 C581.9531,833.7398 582.3281,834.0367 582.75,834.5367 L584.1719,832.9742 C583.5,832.2242 582.5313,831.5679 581.25,831.5679 C578.8125,831.5679 576.6719,833.5523 576.6719,838.146 C576.6719,842.771 578.8125,844.5679 581.2344,844.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="595" y="843.4999">PhotoReflector</text><line style="stroke:#181818;stroke-width:0.5;" x1="567" x2="695" y1="854.0679" y2="854.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="567" x2="695" y1="862.0679" y2="862.0679"/></g><!--MD5=[818ce9cd1eb68477d70117a0a20ac581]
class InstructionImpl--><g id="elem_Instruction"><rect fill="#F1F1F1" height="48" id="InstructionImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="425" y="822.0679"/><ellipse cx="440" cy="838.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M440.2344,844.5679 C441.3906,844.5679 442.4844,844.0835 443.3125,843.0679 L441.875,841.5523 C441.4844,842.0992 441.0313,842.396 440.4688,842.396 C439.2813,842.396 438.2656,841.271 438.2656,838.0523 C438.2656,834.896 439.3281,833.7398 440.3438,833.7398 C440.9531,833.7398 441.3281,834.0367 441.75,834.5367 L443.1719,832.9742 C442.5,832.2242 441.5313,831.5679 440.25,831.5679 C437.8125,831.5679 435.6719,833.5523 435.6719,838.146 C435.6719,842.771 437.8125,844.5679 440.2344,844.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="454" y="843.4999">InstructionImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="426" x2="530" y1="854.0679" y2="854.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="426" x2="530" y1="862.0679" y2="862.0679"/></g><!--MD5=[916b842bddd32e7187123bcb721c868a]
class Brain--><g id="elem_Brain"><rect fill="#F1F1F1" height="48" id="Brain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1092" y="1263.5679"/><ellipse cx="1107" cy="1279.5679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1107.2344,1286.0679 C1108.3906,1286.0679 1109.4844,1285.5835 1110.3125,1284.5679 L1108.875,1283.0523 C1108.4844,1283.5992 1108.0313,1283.896 1107.4688,1283.896 C1106.2813,1283.896 1105.2656,1282.771 1105.2656,1279.5523 C1105.2656,1276.396 1106.3281,1275.2398 1107.3438,1275.2398 C1107.9531,1275.2398 1108.3281,1275.5367 1108.75,1276.0367 L1110.1719,1274.4742 C1109.5,1273.7242 1108.5313,1273.0679 1107.25,1273.0679 C1104.8125,1273.0679 1102.6719,1275.0523 1102.6719,1279.646 C1102.6719,1284.271 1104.8125,1286.0679 1107.2344,1286.0679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1121" y="1284.9999">Brain</text><line style="stroke:#181818;stroke-width:0.5;" x1="1093" x2="1159" y1="1295.5679" y2="1295.5679"/><line style="stroke:#181818;stroke-width:0.5;" x1="1093" x2="1159" y1="1303.5679" y2="1303.5679"/></g><!--MD5=[759fea0b78e06e557efcbea16a583808]
class CarBuilder--><g id="elem_CarBuilder"><rect fill="#F1F1F1" height="48" id="CarBuilder" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="731" y="822.0679"/><ellipse cx="746" cy="838.0679" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M746.2344,844.5679 C747.3906,844.5679 748.4844,844.0835 749.3125,843.0679 L747.875,841.5523 C747.4844,842.0992 747.0313,842.396 746.4688,842.396 C745.2813,842.396 744.2656,841.271 744.2656,838.0523 C744.2656,834.896 745.3281,833.7398 746.3438,833.7398 C746.9531,833.7398 747.3281,834.0367 747.75,834.5367 L749.1719,832.9742 C748.5,832.2242 747.5313,831.5679 746.25,831.5679 C743.8125,831.5679 741.6719,833.5523 741.6719,838.146 C741.6719,842.771 743.8125,844.5679 746.2344,844.5679 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="760" y="843.4999">CarBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="732" x2="834" y1="854.0679" y2="854.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="732" x2="834" y1="862.0679" y2="862.0679"/></g><!--MD5=[e904121d15570ac45c7f2e19608f1950]
link LineTraceGoAndBackBrain to LineTraceBrain--><g id="link_LineTraceGoAndBackBrain_LineTraceBrain"><path codeLine="101" d="M1198.96,323.6779 C1173.35,411.5379 1120.55,592.6979 1084.46,716.5479 " fill="none" id="LineTraceGoAndBackBrain-to-LineTraceBrain" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1091.13,718.6679,1078.81,735.9079,1077.69,714.7479,1091.13,718.6679" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[dafd56595ed22a79d3cb5ded51d62db8]
link LineTraceCar to Car--><g id="link_LineTraceCar_Car"><path codeLine="102" d="M397.68,390.7979 C387.63,518.6479 372.19,715.3479 365.4,801.7879 " fill="none" id="LineTraceCar-to-Car" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="372.38,802.3479,363.83,821.7379,358.42,801.2479,372.38,802.3479" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d97b3357ba35bec91f66d507b28adb23]
link LineTraceCar to LineTraceCarState--><g id="link_LineTraceCar_LineTraceCarState"><path codeLine="103" d="M354.37,390.7979 C333.63,437.5879 308.8,493.5879 283.78,550.0379 " fill="none" id="LineTraceCar-to-LineTraceCarState" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="281.67,554.7979,288.9767,548.1939,283.698,550.2277,281.6643,544.9491,281.67,554.7979" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1e84927dad44cc30c0393ee7c1749307]
link LineTraceCar to LineTraceBrain--><g id="link_LineTraceCar_LineTraceBrain"><path codeLine="104" d="M479.22,390.5679 C508.24,429.1979 544.87,468.8379 587,495.0679 C689.89,559.1079 753.08,486.4879 853,555.0679 C916.28,598.4979 964.44,669.9779 996.95,731.0979 " fill="none" id="LineTraceCar-to-LineTraceBrain" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="999.46,735.8479,998.7988,726.0213,997.1271,731.4255,991.7229,729.7539,999.46,735.8479" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7884b7fb8a2b972709512f1855c27b82]
link LineTraceCar to PhotoReflector--><g id="link_LineTraceCar_PhotoReflector"><path codeLine="105" d="M472.19,390.7079 C497.95,440.5279 526.49,499.6779 548,555.0679 C584.3,648.5179 612.72,764.3579 624.75,816.8579 " fill="none" id="LineTraceCar-to-PhotoReflector" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="625.93,822.0379,627.8286,812.3738,624.8182,817.1631,620.0289,814.1527,625.93,822.0379" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f54ca49fa75d1e0a1fa92189727e63b0]
link LineTraceCar to InstructionImpl--><g id="link_LineTraceCar_Instruction"><path codeLine="106" d="M421.71,390.7979 C438.53,526.5279 464.96,739.8279 474.46,816.4579 " fill="none" id="LineTraceCar-to-InstructionImpl" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="475.11,821.7379,477.9728,812.3143,474.4951,816.7759,470.0336,813.2981,475.11,821.7379" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[972b3d3ace74d2d0210450ca8f4a9633]
link LineTraceBrain to Brain--><g id="link_LineTraceBrain_Brain"><path codeLine="107" d="M1066.63,956.2779 C1083.3,1049.0079 1106.35,1177.2479 1118.23,1243.3379 " fill="none" id="LineTraceBrain-to-Brain" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1125.16,1242.3079,1121.81,1263.2279,1111.38,1244.7879,1125.16,1242.3079" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e4c033ed2ef9b5d25c791eb3d0fd94c8]
link LineTraceBrain to LineTraceActivityState--><g id="link_LineTraceBrain_LineTraceActivityState"><path codeLine="108" d="M1027.12,956.2779 C1013.95,1028.6479 996.84,1122.6379 984.24,1191.8479 " fill="none" id="LineTraceBrain-to-LineTraceActivityState" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="983.34,1196.7879,988.8729,1188.6401,984.2269,1191.8672,980.9998,1187.2211,983.34,1196.7879" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0f40504c6b89e3dc6bb4dedd476a1e3c]
link LineTraceCarBuilder to PhotoReflector--><g id="link_LineTraceCarBuilder_PhotoReflector"><path codeLine="109" d="M723.8,495.2479 C691.11,618.4779 654.05,758.1579 638.5,816.7979 " fill="none" id="LineTraceCarBuilder-to-PhotoReflector" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="637.15,821.8879,643.3099,814.2031,638.4232,817.0527,635.5736,812.166,637.15,821.8879" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5dc6e4a7724a9c6721b428e2958fa6a3]
link LineTraceCarBuilder to LineTraceBrain--><g id="link_LineTraceCarBuilder_LineTraceBrain"><path codeLine="110" d="M885.83,495.2479 C923.01,575.9479 963.45,663.7179 994.51,731.1479 " fill="none" id="LineTraceCarBuilder-to-LineTraceBrain" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="996.73,735.9679,996.61,726.1198,994.6438,731.4239,989.3396,729.4578,996.73,735.9679" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2d839a8d8e8a0d4000533aadf16e45cf]
link LineTraceCarBuilder to CarBuilder--><g id="link_LineTraceCarBuilder_CarBuilder"><path codeLine="111" d="M783,495.2479 C783,608.8079 783,736.3379 783,801.5479 " fill="none" id="LineTraceCarBuilder-to-CarBuilder" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="790,801.8879,783,821.8879,776,801.8879,790,801.8879" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4e1cf1c416136a51c0f24aeae14adfee]
@startuml
'https://plantuml.com/class-diagram

title "カスタム機能の設計図"

class LineTraceCarBuilder {
- brain_: LineTraceBrain*
- front_mid_reflector_: PhotoReflector*
- front_left_reflector_: PhotoReflector*
- front_right_reflector_: PhotoReflector*
- back_mid_reflector_: PhotoReflector*
- back_left_reflector_: PhotoReflector*
- back_right_reflector_: PhotoReflector*
+ SetBrain(brain: LineTraceBrain*)
+ SetFrontMidReflector(reflector: PhotoReflector*)
+ SetFrontLeftReflector(reflector: PhotoReflector*)
+ SetFrontRightReflector(reflector: PhotoReflector*)
+ SetBackMidReflector(reflector: PhotoReflector*)
+ SetBackLeftReflector(reflector: PhotoReflector*)
+ SetBackRightReflector(reflector: PhotoReflector*)
+ GetBrain(): LineTraceBrain*
+ GetFrontMidReflector(): PhotoReflector*
+ GetFrontLeftReflector(): PhotoReflector*
+ GetFrontRightReflector(): PhotoReflector*
+ GetBackMidReflector(): PhotoReflector*
+ GetBackLeftReflector(): PhotoReflector*
+ GetBackRightReflector(): PhotoReflector*
}

class LineTraceCar {
- brain_: LineTraceBrain*
- front_mid_reflector_: PhotoReflector*
- front_left_reflector_: PhotoReflector*
- front_right_reflector_: PhotoReflector*
- back_mid_reflector_: PhotoReflector*
- back_left_reflector_: PhotoReflector*
- back_right_reflector_: PhotoReflector*
- instruction_: InstructionImpl*
+ LineTraceCar(builder: LineTraceCarBuilder*)
- CollectCarState(): LineTraceCarState
}

class LineTraceCarState {
+ left_wheel_speed_: int
+ right_wheel_speed_: int
+ left_wheel_direction_: MoveDirection
+ right_wheel_direction_: MoveDirection
+ mid_reflector_color_: BinaryColor
+ left_reflector_color_: BinaryColor
+ right_reflector_color: BinaryColor
+ back_mid_reflector_color_: BinaryColor
+ back_left_reflector_color_: BinaryColor
+ back_right_reflector_color_: BinaryColor
+ mid_reflector_raw_: int
+ left_reflector_raw_: int
+ right_reflector_raw_: int
+ back_mid_reflector_raw_: int
+ back_left_reflector_raw_: int
+ back_right_reflector_raw_: int
+ IsAnyBlack(): bool
+ IsAnyWhite(): bool
+ IsAllBlack(): bool
+ IsAllWhite(): bool
+ IsAnyFrontBlack(): bool
+ IsAnyBackBlack(): bool
+ IsAnyFrontWhite(): bool
+ IsAnyBackWhite(): bool
+ IsAllFrontBlack(): bool
+ IsAllBackBlack(): bool
+ IsAllFrontWhite(): bool
+ IsAllBackWhite(): bool
}

abstract class LineTraceBrain {
+ SetCurrentCarState(car_state: LineTraceCarState)
# current_car_state_: LineTraceCarState
# activity_state_: LineTraceActivityState
# Ready(): InstructionImpl*
# Search(): InstructionImpl*
# Trace(): InstructionImpl*
# ReadyBack(): InstructionImpl*
# SearchBack(): InstructionImpl*
# TraceBack(): InstructionImpl*
}

enum LineTraceActivityState {
    ready
    searching
    tracing
    readyBack
    searchingBack
    tracingBack
    finished
}

class LineTraceGoAndBackBrain {
+ LineTraceGoAndBackBrain(base_speed: int, torque_force: int)
- base_speed_: int
- forward_torque_force_: int
}

LineTraceGoAndBackBrain - -|> LineTraceBrain
LineTraceCar - -|> Car
LineTraceCar ..> LineTraceCarState
LineTraceCar ..> LineTraceBrain
LineTraceCar ..> PhotoReflector
LineTraceCar ..> InstructionImpl
LineTraceBrain ..|> Brain
LineTraceBrain ..> LineTraceActivityState
LineTraceCarBuilder ..> PhotoReflector
LineTraceCarBuilder ..> LineTraceBrain
LineTraceCarBuilder - -|> CarBuilder
@enduml

@startuml

title "カスタム機能の設計図"

class LineTraceCarBuilder {
- brain_: LineTraceBrain*
- front_mid_reflector_: PhotoReflector*
- front_left_reflector_: PhotoReflector*
- front_right_reflector_: PhotoReflector*
- back_mid_reflector_: PhotoReflector*
- back_left_reflector_: PhotoReflector*
- back_right_reflector_: PhotoReflector*
+ SetBrain(brain: LineTraceBrain*)
+ SetFrontMidReflector(reflector: PhotoReflector*)
+ SetFrontLeftReflector(reflector: PhotoReflector*)
+ SetFrontRightReflector(reflector: PhotoReflector*)
+ SetBackMidReflector(reflector: PhotoReflector*)
+ SetBackLeftReflector(reflector: PhotoReflector*)
+ SetBackRightReflector(reflector: PhotoReflector*)
+ GetBrain(): LineTraceBrain*
+ GetFrontMidReflector(): PhotoReflector*
+ GetFrontLeftReflector(): PhotoReflector*
+ GetFrontRightReflector(): PhotoReflector*
+ GetBackMidReflector(): PhotoReflector*
+ GetBackLeftReflector(): PhotoReflector*
+ GetBackRightReflector(): PhotoReflector*
}

class LineTraceCar {
- brain_: LineTraceBrain*
- front_mid_reflector_: PhotoReflector*
- front_left_reflector_: PhotoReflector*
- front_right_reflector_: PhotoReflector*
- back_mid_reflector_: PhotoReflector*
- back_left_reflector_: PhotoReflector*
- back_right_reflector_: PhotoReflector*
- instruction_: InstructionImpl*
+ LineTraceCar(builder: LineTraceCarBuilder*)
- CollectCarState(): LineTraceCarState
}

class LineTraceCarState {
+ left_wheel_speed_: int
+ right_wheel_speed_: int
+ left_wheel_direction_: MoveDirection
+ right_wheel_direction_: MoveDirection
+ mid_reflector_color_: BinaryColor
+ left_reflector_color_: BinaryColor
+ right_reflector_color: BinaryColor
+ back_mid_reflector_color_: BinaryColor
+ back_left_reflector_color_: BinaryColor
+ back_right_reflector_color_: BinaryColor
+ mid_reflector_raw_: int
+ left_reflector_raw_: int
+ right_reflector_raw_: int
+ back_mid_reflector_raw_: int
+ back_left_reflector_raw_: int
+ back_right_reflector_raw_: int
+ IsAnyBlack(): bool
+ IsAnyWhite(): bool
+ IsAllBlack(): bool
+ IsAllWhite(): bool
+ IsAnyFrontBlack(): bool
+ IsAnyBackBlack(): bool
+ IsAnyFrontWhite(): bool
+ IsAnyBackWhite(): bool
+ IsAllFrontBlack(): bool
+ IsAllBackBlack(): bool
+ IsAllFrontWhite(): bool
+ IsAllBackWhite(): bool
}

abstract class LineTraceBrain {
+ SetCurrentCarState(car_state: LineTraceCarState)
# current_car_state_: LineTraceCarState
# activity_state_: LineTraceActivityState
# Ready(): InstructionImpl*
# Search(): InstructionImpl*
# Trace(): InstructionImpl*
# ReadyBack(): InstructionImpl*
# SearchBack(): InstructionImpl*
# TraceBack(): InstructionImpl*
}

enum LineTraceActivityState {
    ready
    searching
    tracing
    readyBack
    searchingBack
    tracingBack
    finished
}

class LineTraceGoAndBackBrain {
+ LineTraceGoAndBackBrain(base_speed: int, torque_force: int)
- base_speed_: int
- forward_torque_force_: int
}

LineTraceGoAndBackBrain - -|> LineTraceBrain
LineTraceCar - -|> Car
LineTraceCar ..> LineTraceCarState
LineTraceCar ..> LineTraceBrain
LineTraceCar ..> PhotoReflector
LineTraceCar ..> InstructionImpl
LineTraceBrain ..|> Brain
LineTraceBrain ..> LineTraceActivityState
LineTraceCarBuilder ..> PhotoReflector
LineTraceCarBuilder ..> LineTraceBrain
LineTraceCarBuilder - -|> CarBuilder
@enduml

PlantUML version 1.2022.12(Mon Oct 24 03:12:26 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>